<h1>Group: {{ group?.name }}</h1>

<!-- Members Section -->
<div>
  <h2>Members</h2>
  <ul>
    <li *ngFor="let member of group?.members">{{ member }}</li>
  </ul>

  <!-- Only SuperAdmin and GroupAdmin can add members -->
  <div *ngIf="isSuperAdmin() || isGroupAdmin()">
    <input [(ngModel)]="newMemberId" placeholder="Enter user ID" />
    <button (click)="addMember()">Add Member</button>
  </div>
</div>

<!-- Join Requests Section -->
<div *ngIf="isSuperAdmin() || isGroupAdmin() && hasJoinRequests">
  <h2>Join Requests</h2>
  <ul *ngIf="hasJoinRequests; else noRequests">
    <li *ngFor="let userId of group?.joinRequests">
      {{ userId }}
      <button (click)="approveRequest(userId)">Approve</button>
      <button (click)="rejectRequest(userId)">Reject</button>
    </li>
  </ul>
  <ng-template #noRequests>
    <p>No join requests at the moment.</p>
  </ng-template>
</div>

<!-- Available Groups Section -->
<div *ngIf="availableGroups && availableGroups.length > 0; else noGroupsAvailable">
  <h2>Available Groups</h2>
  <ul>
    <li *ngFor="let group of availableGroups">
      {{ group.name }}
      <button (click)="requestToJoin(group.id)">Request to Join</button>
    </li>
  </ul>
</div>

<!-- Display this when no groups are available -->
<ng-template #noGroupsAvailable>
  <p>No groups available to join.</p>
</ng-template>

<!-- Channels Section -->
<div>
  <h2>Channels</h2>
  <ul>
    <li *ngFor="let channel of channels">
      <a [routerLink]="['/channels', channel.id]">{{ channel.name }}</a>
    </li>
  </ul>

  <!-- Only SuperAdmin and GroupAdmin can create channels -->
  <div *ngIf="isSuperAdmin() || isGroupAdmin()">
    <input [(ngModel)]="newChannelName" placeholder="Enter channel name" />
    <button (click)="createChannel()">Create Channel</button>
  </div>
</div>
